<!DOCTYPE html>
<html>
<head>
    <title>Raspberry Pi LED Control</title>
</head>
<body>

    <style>
    /* Style for the button container */
    .button-container {
      display: flex; /* Use a flex container */
      flex-direction: column; /* Arrange items vertically */
      align-items: center; /* Center-align items horizontally */
      justify-content: space-between; /* Distribute items evenly */
      height: 300px; /* Set a fixed height for the container */
    }

    /* Style for the buttons */
    button {
      padding: 10px 20px;
      font-size: 16px;
      background-color: #3498db;
      color: #ffffff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    /* Style for individual buttons */
    #turnOnButton {
      order: 1; /* Arrange at the top */
    }

    #leftButton {
      order: 2; /* Arrange on the left */
      transform: rotate(-90deg); /* Rotate the button text */
    }

    #backButton {
      order: 3; /* Arrange at the bottom */
      transform: rotate(180deg); /* Rotate the button text */
    }

    #rightButton {
      order: 4; /* Arrange on the right */
      transform: rotate(90deg); /* Rotate the button text */
    }
  </style>
    <h1>Raspberry Pi Online Control</h1>
    <
    <button id="turnOnButton" onmousedown="turnOn()" onmouseup="turnOff()" ontouchstart="turnOn()" ontouchend="turnOff()">Forward</button>
    <button id="leftButton" onmousedown="left()" onmouseup="turnOff()" ontouchstart="left()" ontouchend="turnOff()">Left</button>
    <button id="backButton" onmousedown="back()" onmouseup="turnOff()" ontouchstart="back()" ontouchend="turnOff()">Backward</button>
    <button id="rightButton" onmousedown="right()" onmouseup="turnOff()" ontouchstart="right()" ontouchend="turnOff()">Righ</button>
    <!-- Use onmousedown and onmouseup (and ontouchstart and ontouchend for touch devices) events to handle button press and release -->


<img src="{{ url_for('video') }}" width="640" height="480" /></div>

    <script>
        var isButtonPressed = false;  // Flag to track if the button is pressed

        // JavaScript function to turn on the LED
        function turnOn() {
            isButtonPressed = true;  // Set the flag to true when the button is pressed
            fetch("/turn_on")  // Send an HTTP GET request to the "/turn_on" route
                .then(response => response.text())  // Get the response as text
                .then(data => console.log(data));  // Log the response data to the console
        }
        function left() {
            isButtonPressed = true;  // Set the flag to true when the button is pressed
            fetch("/left")  // Send an HTTP GET request to the "/turn_on" route
                .then(response => response.text())  // Get the response as text
                .then(data => console.log(data));  // Log the response data to the console
        }

        function back() {
            isButtonPressed = true;  // Set the flag to true when the button is pressed
            fetch("/back")  // Send an HTTP GET request to the "/turn_on" route
                .then(response => response.text())  // Get the response as text
                .then(data => console.log(data));  // Log the response data to the console
        }

        function right() {
            isButtonPressed = true;  // Set the flag to true when the button is pressed
            fetch("/right")  // Send an HTTP GET request to the "/turn_on" route
                .then(response => response.text())  // Get the response as text
                .then(data => console.log(data));  // Log the response data to the console
        }


        // JavaScript function to turn off the LED
        function turnOff() {
            if (isButtonPressed) {  // Check if the button was pressed
                fetch("/turn_off")  // Send an HTTP GET request to the "/turn_off" route
                    .then(response => response.text())  // Get the response as text
                    .then(data => console.log(data));  // Log the response data to the console
            }
            isButtonPressed = false;  // Reset the flag to false when the button is released
        }
    </script>
</body>
</html>
